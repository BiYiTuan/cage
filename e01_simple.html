<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Feb 15, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Cage - Captcha Generator - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20110215" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<meta content="cage, captcha, java, maven" name="keywords"/>
                                                        
<meta content="Cage is a CAPTCHA image generator java library. It is fast, small and simple. Its goal is to generate images that are easy to read for a human but impossible or at least very hard for a computer." name="description"/>
                                                        
<link rel="shortcut icon" href="s/i/icon32.ico"/>
                      
  </head>
  <body class="composite">
    <div id="banner">
                  <a href="index.html" id="bannerLeft">
                Cage - CAptcha GEnerator Java Library
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-02-15</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="index.html" title="About">About</a>
            |
                        <a href="quickstart.html" title="QuickStart">QuickStart</a>
            |
                        <a href="templates.html" title="Templates">Templates</a>
            |
                        <a href="examples.html" title="Examples">Examples</a>
            |
                        <a href="tips.html" title="Tips for Captcha Usage">Tips for Captcha Usage</a>
            |
                        <a href="download.html" title="Download">Download</a>
            |
                        <a href="help_and_feedback.html" title="Help & Feedback">Help & Feedback</a>
            |
                        <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="About">About</a>
            </li>
                  <li class="none">
                          <a href="quickstart.html" title="QuickStart">QuickStart</a>
            </li>
                  <li class="none">
                          <a href="templates.html" title="Templates">Templates</a>
            </li>
                                                                                                            <li class="expanded">
                          <a href="examples.html" title="Examples">Examples</a>
                    <ul>
                      <li class="none">
            <strong>Simple</strong>
          </li>
                      <li class="none">
                          <a href="e02_servlet.html" title="Servlet">Servlet</a>
            </li>
                      <li class="none">
                          <a href="e03_wicket.html" title="Wicket">Wicket</a>
            </li>
              </ul>
        </li>
                  <li class="none">
                          <a href="tips.html" title="Tips for Captcha Usage">Tips for Captcha Usage</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="help_and_feedback.html" title="Help & Feedback">Help & Feedback</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Simple Example<a name="Simple_Example"></a></h2><p>The complete source code for this example is available in the <a class="externalLink" href="https://github.com/akiraly/cage/tree/master/cage-examples-parent/cage-e01-simple">git repo</a>.</p><div class="section"><h3>Overview<a name="Overview"></a></h3><p>This is a command line application that generates a few hundred captchas and writes them to separate files. It uses both predefined templates &quot;G&quot; and &quot;Y&quot;.</p><p>This project contains only one relevant file: App.java. It has a main() method serving as the entry point and a helper method called generate() that does most of the work.</p><p>As you can see in the example <a href="./apidocs/com/github/cage/GCage.html">GCage</a>, <a href="./apidocs/com/github/cage/YCage.html">YCage</a> (and their ancestor <a href="./apidocs/com/github/cage/Cage.html">Cage</a>) can be reused. They are thread safe, they can be used as service objects.</p><p>An other interesting point is that you can use cage.getTokenGenerator().next() to generate String tokens. You can generate the tokens completely independent from Cage if you want, this method is only supplied for convenience.</p><p>cage.draw(String token, OutputStream os) is used to generate an image with the supplied token and write it out in an encoded form to the given output stream. By default jpeg encoding is used.</p></div><div class="section"><h3>App.java<a name="App.java"></a></h3><div class="source"><pre>public class App {
  public static void main(String[] args) throws IOException {
    generate(new GCage(), 10, &quot;cg1&quot;, &quot;.jpg&quot;, &quot;colding&quot;);
    generate(new YCage(), 10, &quot;cy1&quot;, &quot;.jpg&quot;, &quot;eT6wLAH&quot;);
    generate(new GCage(), 100, &quot;cg2&quot;, &quot;.jpg&quot;, null);
    generate(new YCage(), 100, &quot;cy2&quot;, &quot;.jpg&quot;, null);
  }

  protected static void generate(Cage cage, int num, String namePrefix,
      String namePostfix, String text) throws IOException {
    for (int fi = 0; fi &lt; num; fi++) {
      OutputStream os = new FileOutputStream(namePrefix + fi
          + namePostfix, false);
      try {
        cage.draw(
            text != null ? text : cage.getTokenGenerator().next(),
            os);
      } finally {
        os.close();
      }
    }
  }
}
</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                   2011.
          All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
